function CatalogSearch(t){const e=t.enableTags,a=t.enableSearch,i=t.disableTypoTolerance,s=t.initialSearchQuery,o=t.searchCompleteCallback,n=t.selectorOptions,r=t.searchTilesJSON,c={};for(const t of Object.values(r))"COURSE"===t.item_type&&(c[t.associated_item_obfuscated_id]=t);var l,d,u,h,p=n&&n.courseboxSelector||"#catalog-content a.coursebox-container",f=n&&n.typeSelector||".filter-option-type",g=n&&n.tagSelector||".filter-option-tag",v=n&&n.resetButtonSelector||".catalog-search-reset",b=n&&n.searchInputSelector||".catalog-search-input",m=n&&n.viewResultsSelector||".view-results-wrapper",y="_",w=Array(),C=Array(),x=Array(),j=Array(),S=Object(),T=Object(),E=Object(),O={},k=[];const I={"-c":"PC:","-p":"P:","-w":"CP:","-x":"PP:","-l":"L:"},A={Lesson:{tileTypeCode:"-l"},PublishedCourse:{tileTypeCode:"-c"},PublishedPath:{tileTypeCode:"-x"}};var L={},D={},H={showOverallResultCounts:!1,showSelectedTagCounts:!1};function z(t){false}function R(t){return _.intersection.apply(null,t)}function N(t){return _.union.apply(null,t)}function P(t,e,a){t.hasOwnProperty(e)||(t[e]=Array()),t[e].push(a)}var q={VIDEO:'<i class="icon-video" aria-hidden="true"></i>',PDF:'<i class="icon-pdf" aria-hidden="true"></i>',TEXT:'<i class="icon-text" aria-hidden="true"></i>',AUDIO:'<i class="icon-audio" aria-hidden="true"></i>',SLIDESHOW:'<i class="icon-slideshow" aria-hidden="true"></i>',FORM:'<i class="icon-form" aria-hidden="true"></i>',IMAGE:'<i class="fa fa-picture-o" style="padding-top: 1px;" aria-hidden="true"></i>',QUIZ:'<i class="fa fa-check-square-o" aria-hidden="true"></i>',VILT:'<i class="fa fa-calendar" aria-hidden="true"></i>',UNKNOWN:'<i class="icon-video" aria-hidden="true"></i>',OTHER:'<i class="icon-text" aria-hidden="true"></i>'};function F(t,e,a){if(z(),(l=document.createEvent("Event")).initEvent("sjCatalogUpdateComplete",!0,!0),!t&&!e)return M(),void document.dispatchEvent(l);U(),e&&a&&(d=a),C=Array(),x=Array(),T=Object(),$(f).each(function(t,e){T[$(e).data("type")]=[]}),S=Object(),E=Object(),$(p).each(function(a,i){z();var s=$(i);s.hasClass("search-only")||C.push(i),I[s.data("type")]||s.data("type");var o=I[s.data("type")]+s.data("oid");if("-x"==s.data("type")&&(o=I[s.data("type")]+s.data("path-oid")),s.data("algoliaId",o),O[o]=i,x.push(o),e&&P(T,s.data("type"),i),t){var n=_.without(s.data("tags").toString().split(","),"");i.tagArray=n,$.each(n,function(t,e){P(S,e,i)}),z()}var r=null;"-c"==s.data("type")?s.data("path-oid")?(r=I["-x"]+s.data("path-oid"),s.hasClass("search-only")||(L[s.data("coid")]=i)):(s.data("coid")in L||(L[s.data("coid")]=i),D[o]=i):D[o]=i,r&&P(E,o,r),P(E,o,o)});var i=Array();t&&$(g).each(function(t,e){var a=$(e),s=a.data("group"),o=a.data("tag");i.push(s+y+o)}),w=Object.keys(T).concat(i),tt(!0),e&&d?X():J(!0),$(".filter-results").css("visibility",H.showOverallResultCounts?"visible":"hidden"),V()||(M(),document.dispatchEvent(l)),window.addEventListener("hashchange",function(){st(),ot(),at(),tt(),J()})}function U(){return!$("#catalog-content").hasClass("hide-content")&&($("#catalog-content").addClass("hide-content"),!0)}function M(){$("#catalog-content").removeClass("hide-content")}function B(t){if(p){var e=$("#catalog-courses"),a=e.children(p);a.sort(function(e,a){return $.inArray($(e).data("algoliaId"),t)>$.inArray($(a).data("algoliaId"),t)?1:-1}),a.detach().appendTo(e)}}function V(){return void 0!==d}function W(){z();const t=U();$(b).val(""),h=d=void 0,K(),$(".top-row").removeClass("search"),$(".catalog-search-info-header-number-results").text("Searching..."),at(),B(x),J(!0),t&&(M(),document.dispatchEvent(l))}function X(){if(void 0===d)return;if((d=$.trim(d))==h)return void z();if(K(d),!d)return void W();const t=(new Date).getTime();u=t,h=d;const a=_.partial(function(t,a,i){if(V()&&t===u&&!a){U(),$(".top-row").addClass("search");var s=[];$.each(i.hits,function(t,a){if([type,itemId,...rest]=a.objectID.split(":"),a.objectID=`${type}:${itemId}`,E[a.objectID]&&s.push.apply(s,E[a.objectID]),a.objectID in O)return;let i;"Lesson"==a.type?i=function(t){let e=c?.[t.coid];if(e)return function(t,e){if(!p)return;const a=t.lid,i=t.lesson_title,s=t.icon;let o=Y(t.type);o.data("algoliaId",t.objectID);const n=e.tags,r=[];for(const t of Object.values(n))r.push(t.slug);o[0].tagArray=r,e.registration_class&&o.addClass(e.registration_class);e.open_access&&o.addClass("sj-registration-not-required");return o.attr("href",e.url+"/"+a),o.attr("title",e.title),o.attr("data-oid",a),o.attr("data-tags",r.join(",")),o.find(".coursebox-text").text(i),o.find(".coursebox-text-description-target").text(e.title),o.find(".storefront-price").append(e.price),o.find(".coursebox-image .coursebox-image-inner-wrapper").html(q[s]||'<i class="icon-video" aria-hidden="true"></i>'),o[0]}(t,e);let a=L?.[t.coid];if(a)return function(t,e){if(!p)return;const a=$(e),i=t.lid,s=t.lesson_title,o=t.icon;let n=Y(t.type);n.data("algoliaId",t.objectID),n[0].tagArray=a[0].tagArray,a.hasClass("sj-registration-closed")&&n.addClass("sj-registration-closed");a.hasClass("sj-registration-not-required")&&n.addClass("sj-registration-not-required");n.attr("data-tags",a.attr("data-tags")),n.attr("href",a.attr("href")+"/"+i),n.find(".coursebox-text").text(s),n.attr("data-oid",i),n.children(".storefront-price").append(a.children(".storefront-price").html());var r=a.find(".coursebox-text").text().trim();return n.find(".coursebox-text-description-target").text(r),n.find(".coursebox-image .coursebox-image-inner-wrapper").html(q[o]||'<i class="icon-video" aria-hidden="true"></i>'),n[0]}(t,a)}(a):"PublishedCourse"==a.type?i=function(t){if(!p)return;const e=`COURSE-${t.pcoid}`,a=r?.[e];if(!a)return;let i=Y(t.type);i.data("algoliaId",t.objectID);const s=a.tags,o=[];for(const t of Object.values(s))o.push(t.slug);i[0].tagArray=o,a.registration_class&&i.addClass(a.registration_class);a.open_access&&i.addClass("sj-registration-not-required");i.attr("href",a.url),i.attr("title",a.title),i.attr("data-oid",a.item_obfuscated_id),i.attr("data-coid",a.associated_item_obfuscated_id),i.attr("data-course",a.slug),i.attr("data-course-status",a.course_status),i.attr("data-tags",o.join(",")),a.price_credits&&i.attr("data-credit-value",a.price_credits);a.success_state&&i.attr("data-quiz-status",a.success_state);const n=i.find(".coursebox-image");a.image_url||n.addClass("no-coursebox-image-v2");const c=n.find("img");c.attr("src",a.image_url),c.attr("data-src",a.image_url),c.attr("alt",a.title),i.find(".coursebox-text").text(a.title),i.find(".coursebox-text-description").text(a.short_description),i.find(".storefront-price > span").text(a.price),i.find(".coursebox-callout > span").text(a.callout);const l=i.find(".coursebox-tags");if(l)for(const t of Object.values(s)){const e=`<span class="coursebox-tag" data-tag="${t.slug}"><span>${t.name}</span></span>`;l.append(e)}const d=i.find(".sj-ribbon-wrapper");if(a.hide_ribbon)d.addClass("hide");else{const t=i.find(".sj-ribbon");t.addClass(a.ribbon_classes),t.find(".sj-ribbon-text").text(a.ribbon_text)}return i[0]}(a):"PublishedPath"==a.type&&(i=function(t){if(!p)return;const e=t.objectID.split(":")[1],a=`PATH-${e}`,i=r?.[a];if(!i)return;let s=Y(t.type);s.data("algoliaId",t.objectID);const o=i.tags,n=[];for(const t of Object.values(o))n.push(t.slug);s[0].tagArray=n,i.registration_class&&s.addClass(i.registration_class);i.open_access&&s.addClass("sj-registration-not-required");s.attr("href",i.url),s.attr("title",i.title),s.attr("data-oid",i.item_obfuscated_id),s.attr("data-path-oid",i.associated_item_obfuscated_id),s.attr("data-path",i.slug),s.attr("data-course-series",i.slug),s.attr("data-status",i.status),s.attr("data-tags",n.join(",")),i.price_credits&&s.attr("data-credit-value",i.price_credits);i.success_state&&s.attr("data-quiz-status",i.success_state);const c=s.find(".coursebox-image");i.image_url||c.addClass("no-coursebox-image-v2");const l=c.find("img");l.attr("src",i.image_url),l.attr("data-src",i.image_url),l.attr("alt",i.title),s.find(".coursebox-text").text(i.title),s.find(".coursebox-text-description").text(i.short_description),s.find(".storefront-price > span").text(i.price),s.find(".coursebox-callout > span").text(i.callout);const d=s.find(".coursebox-tags");if(d)for(const t of Object.values(o)){const e=`<span class="coursebox-tag" data-tag="${t.slug}"><span>${t.name}</span></span>`;d.append(e)}const u=s.find(".sj-ribbon-wrapper");if(i.hide_ribbon)u.addClass("hide");else{const t=s.find(".sj-ribbon");t.addClass(i.ribbon_classes),t.find(".sj-ribbon-text").text(i.ribbon_text)}return s[0]}(a)),i&&(P(E,a.objectID,a.objectID),s.push(a.objectID),O[a.objectID]=i,$("#catalog-courses").append(i),P(T,$(i).data("type"),i),e&&i.tagArray&&$.each(i.tagArray,function(t,e){P(S,e,i)}))}),p&&(j=$(p).filter(function(t,e){var a=$(e).data("algoliaId");if(a&&!($.inArray(a,s)<0)&&("-c"!=$(e).data("type")||!$(e).data("path-oid")||!$(e).hasClass("search-only")))return!0}).get()),B(s),J(!0),M(),document.dispatchEvent(l)}},t);index.search({query:d,typoTolerance:!i},a)}var G=_.debounce(X,200);function Y(t){const e=A[t].tileTypeCode;return $('#catalog-stubs [data-type="'+e+'"]').clone(!0,!0)}function Q(){return N(_.values(function(){z();var t=$(f+".checked").map(function(t,e){return $(e).data("type")}).get();0===_.size(t)&&(t=Object.keys(T));var e=Object();return $.each(t,function(t,a){e[a]=T[a]}),e}()))}function J(t){z();var i=$(f+".checked,"+g+".checked").map(function(t,e){return $e=$(e),$e.data("type")||$e.data("group")+y+$e.data("tag")}).get();if(!t){var s=R([i,k]);if(s.length==i.length&&s.length==k.length)return void(k=i)}k=i;var n=V()?j:C,r=Q(),c=function(){z();var t=Object();$(g+".checked").each(function(e,a){var i=$(a),s=i.data("group"),o=i.data("tag");s in t||(t[s]=Array()),t[s].push(S[o])});var e=Object();return $.each(t,function(t,a){e[t]=N(a)}),e}(),u=R(_.values(c)),h=_.size(c)>0,b=n;h||void 0!==d?($(v).addClass("is-visible"),$(m).addClass("display")):($(v).removeClass("is-visible"),$(m).removeClass("display")),V()&&(b=R([n,r]));var w=b;h&&(w=R([b,u]));const x=U();if(p&&$(p).addClass("not-found"),$.each(w,function(t,e){$(e).removeClass("not-found")}),x&&(M(),document.dispatchEvent(l)),H.showOverallResultCounts){var E=_.size(w);$(".filter-results .filter-results-count").text(E)}if(V()){var O=n;h&&(O=R([O,u])),$(f).each(function(t,e){var a=$(e),i=a.data("type"),s=R([O,T[i]]),o=_.size(s);a.find(".filter-counter").text("("+o+")")})}var I=[];e&&$(g).each(function(t,e){var a=$(e),i=a.data("group"),s=a.data("tag");I.push(s);var o=void 0,n="";if(a.hasClass("checked"))H.showSelectedTagCounts&&(o=_.size(R([w,S[s]])));else if(i in c){var r=Array();r.push(b),r.push(S[s]),$.each(c,function(t,e){t!=i&&r.push(e)}),o=_.size(N([w,R(r)]))-_.size(w),n="+"}else o=_.size(R([w,S[s]]));var l="";void 0!==o&&(l="("+n+o+")"),a.find(".filter-counter").text(l)}),(e||a)&&o({selectedTagSlugs:I})}function K(t){if(history.pushState){var e=window.location.href,a=window.location.protocol+"//"+window.location.host+window.location.pathname,i=Array();d&&i.push("q="+encodeURIComponent(d).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)}));var s=RegExp("d=([a-z0-9]+)").exec(e);s&&i.push("d="+s[1]),_.size(i)>0&&(a+="?"+i.join("&")),window.location.hash&&(a+=window.location.hash),a!=e&&window.history.pushState({path:a},"",a)}}function Z(){z();const t=_.uniq($(f).not(".checked").add(g+".checked").map(function(){return $(this).data("type")||$(this).data("group")+y+$(this).data("tag")}).get()).sort().join(",");t?window.location.hash=t:history.pushState("",document.title,window.location.pathname+window.location.search)}function tt(t){z();var e=_.uniq(window.location.hash.substring(1).match(/[-a-z0-9_]+/g));if(e){var a=$.map(e,function(t){return"-"===t[t.length-1]&&"-"===t[0]?t.replace(/-+$/,""):(t[0],t)});a=R([a,w]),st(),at(),$.each(a,function(t,e){"-"===e[0]?et(e):it(e)})}}function et(t){z(),a&&($(f+"[data-type="+t+"]").attr("aria-pressed","false"),$(f+"[data-type="+t+"]").addClass("notchecked").removeClass("checked"))}function at(){z(),a&&($(f).addClass("checked").removeClass("notchecked"),$(f).attr("aria-pressed","true"))}function it(t){if(z(),e){var a=t.split(y),i=a[0],s=a[1];$(g+"[data-group="+i+"][data-tag="+s+"]").addClass("checked"),2===skilljarThemeVersionMajor&&$(g+"[data-group="+i+"][data-tag="+s+"] input").prop("checked",!0)}}function st(){z(),e&&$(g).removeClass("checked")}function ot(){2===skilljarThemeVersionMajor&&(z(),e&&$(g+" input").prop("checked",!1))}return F(e,a,s),{startSearch:function(t,e){!t||"click"!=t.type&&13!=(t.which?t.which:t.keyCode)||$("body, .cbp-spmenu-left").removeClass("cbp-spmenu-open"),d=e,G()},clearSearch:W,clearFilterTagsAndUpdate:function(){z(),st(),ot(),Z(),J()},toggleFilterType:function(t){if(z(),a){var e=$(t.target).closest(f);e.hasClass("checked")?et(e.data("type")):function(t){if(z(),!a)return;$(f+"[data-type="+t+"]").attr("aria-pressed","true"),$(f+"[data-type="+t+"]").addClass("checked").removeClass("notchecked")}(e.data("type")),Z(),J()}},toggleFilterTag:function(t){if(z(),e){var a=$(t.target).closest(g);a.hasClass("checked")?function(t){if(z(),!e)return;var a=t.split(y),i=a[0],s=a[1];$(g+"[data-group="+i+"][data-tag="+s+"]").removeClass("checked")}(a.data("group")+y+a.data("tag")):it(a.data("group")+y+a.data("tag")),Z(),J()}},onHashChange:function(){z(),e&&(tt(),J())},setOption:function(t,e){t in H&&(H[t]=Boolean(e),$(".filter-results").css("visibility",H.showOverallResultCounts?"visible":"hidden"),J())},setup:F,removeIncrementalSearchBehavior:t.removeIncrementalSearchBehavior}}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";var t={elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null,callback_enter:null},e=!("onscroll"in window)||/glebot/.test(navigator.userAgent),a=function(t,e){t&&t(e)},i=function(t){return t.getBoundingClientRect().top+window.pageYOffset-t.ownerDocument.documentElement.clientTop},s=function(t){return t.getBoundingClientRect().left+window.pageXOffset-t.ownerDocument.documentElement.clientLeft},o=function(t,e,a){return!(function(t,e,a){return(e===window?window.innerHeight+window.pageYOffset:i(e)+e.offsetHeight)<=i(t)-a}(t,e,a)||function(t,e,a){return(e===window?window.pageYOffset:i(e))>=i(t)+a+t.offsetHeight}(t,e,a)||function(t,e,a){var i=window.innerWidth;return(e===window?i+window.pageXOffset:s(e)+i)<=s(t)-a}(t,e,a)||function(t,e,a){return(e===window?window.pageXOffset:s(e))>=s(t)+a+t.offsetWidth}(t,e,a))},n=function(t,e){var a,i="LazyLoad::Initialized",s=new t(e);try{a=new CustomEvent(i,{detail:{instance:s}})}catch(t){(a=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:s})}window.dispatchEvent(a)},r="data-",c=function(t,e){return t.getAttribute(r+e)},l=function(t,e,a){return t.setAttribute(r+e,a)},d=function(t,e,a){var i=t.tagName,s=c(t,a);if("IMG"===i){!function(t,e){var a=t.parentNode;if("PICTURE"===a.tagName)for(var i=0;i<a.children.length;i++){var s=a.children[i];if("SOURCE"===s.tagName){var o=c(s,e);o&&s.setAttribute("srcset",o)}}}(t,e);var o=c(t,e);return o&&t.setAttribute("srcset",o),void(s&&t.setAttribute("src",s))}"IFRAME"!==i?s&&(t.style.backgroundImage='url("'+s+'")'):s&&t.setAttribute("src",s)},u="classList"in document.createElement("p"),h=function(t,e){u?t.classList.add(e):t.className+=(t.className?" ":"")+e},p=function(t,e){u?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},f=function(e){this._settings=_extends({},t,e),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};f.prototype={_reveal:function(t){var e=this._settings,i=function i(){e&&(t.removeEventListener("load",s),t.removeEventListener("error",i),p(t,e.class_loading),h(t,e.class_error),a(e.callback_error,t))},s=function s(){e&&(p(t,e.class_loading),h(t,e.class_loaded),t.removeEventListener("load",s),t.removeEventListener("error",i),a(e.callback_load,t))};a(e.callback_enter,t),"IMG"!==t.tagName&&"IFRAME"!==t.tagName||(t.addEventListener("load",s),t.addEventListener("error",i),h(t,e.class_loading)),d(t,e.data_srcset,e.data_src),a(e.callback_set,t)},_loopThroughElements:function(){var t=this._settings,i=this._elements,s=i?i.length:0,n=void 0,r=[],c=this._isFirstLoop;for(n=0;n<s;n++){var d=i[n];t.skip_invisible&&null===d.offsetParent||(e||o(d,t.container,t.threshold))&&(c&&h(d,t.class_initial),this._reveal(d),r.push(n),l(d,"was-processed",!0))}for(;r.length;)i.splice(r.pop(),1),a(t.callback_processed,i.length);0===s&&this._stopScrollHandler(),c&&(this._isFirstLoop=!1)},_purgeElements:function(){var t=this._elements,e=t.length,a=void 0,i=[];for(a=0;a<e;a++){var s=t[a];c(s,"was-processed")&&i.push(a)}for(;i.length>0;)t.splice(i.pop(),1)},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},handleScroll:function(){var t=this._settings.throttle;if(0!==t){var e=Date.now(),a=t-(e-this._previousLoopTime);a<=0||a>t?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),a))}else this._loopThroughElements()},update:function(){this._elements=Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null}};var g=window.lazyLoadOptions;return g&&function(t,e){var a=e.length;if(a)for(var i=0;i<a;i++)n(t,e[i]);else n(t,e)}(f,g),f});